!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=46)}({0:function(e,t){e.exports=React},112:function(e,t,n){"use strict";n.r(t);var o=n(39),r=n.n(o),i=n(7),a=n.n(i),l=(n(47),n(40)),c=n.n(l);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=wp.hooks.addFilter,m=wp.element.Component,y=wp.blocks.getBlockType,b=wp.compose.createHigherOrderComponent,g=wp.data.withSelect,v={};function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}d("editor.BlockEdit","lazyblocks/uniqueBlockId",b(function(e){var t=function(t){function n(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=this;var r=(e=!(o=f(n).apply(this,arguments))||"object"!==s(o)&&"function"!=typeof o?p(t):o).props,i=r.attributes,a=r.clientId;return a&&i.blockId&&void 0===v[i.blockId]&&(v[i.blockId]=a),e.maybeCreateBlockId=e.maybeCreateBlockId.bind(p(e)),e}var o,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,m),o=n,(r=[{key:"componentDidMount",value:function(){this.maybeCreateBlockId()}},{key:"componentDidUpdate",value:function(){this.maybeCreateBlockId()}},{key:"maybeCreateBlockId",value:function(){if(this.props.blockSettings.lazyblock){var e=this.props,t=e.setAttributes,n=e.attributes,o=e.clientId,r=n.blockId;if(!r||v[r]!==o){for(var i="",a=10;!i||void 0!==v[i]&&v[i]!==o&&a>0;)i=c.a.unique(o),a--;if(i&&void 0===v[i]&&(v[i]=o),i!==r)t({blockId:i,blockUniqueClass:"".concat(this.props.name.replace("/","-"),"-").concat(i)})}}}},{key:"render",value:function(){return wp.element.createElement(e,this.props)}}])&&u(o.prototype,r),i&&u(o,i),n}();return g(function(e,t){return{blockSettings:y(t.name)}})(t)},"withUniqueBlockId"));var E=wp.i18n.__,O=wp.element,T=O.Component,I=(O.Fragment,wp.components),_=I.BaseControl,j=I.Button,R=I.DropZone,P=wp.compose.withInstanceId,N=wp.editor,D=N.MediaPlaceholder,M=N.mediaUpload,A=["image"],B=P(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(this,C(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,T),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,o=e.help,r=e.onChange,i=void 0===r?function(){}:r;return wp.element.createElement(_,{label:t,help:o},wp.element.createElement("div",{className:"lzb-gutenberg-image-wrap"},n&&Object.keys(n).length?"":wp.element.createElement(D,{icon:"format-image",labels:{title:t,name:E("image")},onSelect:function(e){i(e)},accept:"image/*",allowedTypes:A,disableMaxUploadErrorMessages:!0,onError:function(e){console.log(e)}}),n&&Object.keys(n).length?wp.element.createElement("div",{className:"lzb-gutenberg-image"},wp.element.createElement(R,{onFilesDrop:function(e){M({allowedTypes:A,filesList:e,onFileChange:function(e){i(e)},onError:function(e){console.log(e)}})}}),wp.element.createElement("div",{className:"lzb-gutenberg-image-button"},wp.element.createElement(j,{isDefault:!0,onClick:function(){i("")}},"Remove Image")),wp.element.createElement("div",{className:"lzb-gutenberg-image-item",key:n.id||n.url},wp.element.createElement("img",{src:n.url,alt:n.alt}))):""))}}])&&x(n.prototype,o),r&&x(n,r),t}());function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function W(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var V=wp.i18n.__,F=wp.element.Component,K=wp.components,q=K.BaseControl,G=K.Button,X=K.DropZone,Y=wp.compose.withInstanceId,Z=wp.editor,J=Z.MediaPlaceholder,Q=Z.MediaUpload,$=Z.mediaUpload,ee=["image"],te=Y(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),W(this,H(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,F),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,o=e.help,r=e.onChange,i=void 0===r?function(){}:r;return wp.element.createElement(q,{label:t,help:o},wp.element.createElement("div",{className:"lzb-gutenberg-gallery-wrap"},n&&Object.keys(n).length?"":wp.element.createElement(J,{icon:"format-gallery",labels:{title:t,name:V("images")},onSelect:function(e){i(e)},accept:"image/*",allowedTypes:ee,disableMaxUploadErrorMessages:!0,multiple:!0,onError:function(e){console.log(e)}}),n&&Object.keys(n).length?wp.element.createElement(Q,{onSelect:function(e){i(e)},allowedTypes:ee,multiple:!0,gallery:!0,value:n.map(function(e){return e.id}),render:function(e){var t=e.open;return wp.element.createElement("div",{className:"lzb-gutenberg-gallery",onClick:t,role:"presentation"},wp.element.createElement(X,{onFilesDrop:function(e){var t=n||[];$({allowedTypes:ee,filesList:e,onFileChange:function(e){i(t.concat(e))},onError:function(e){console.log(e)}})}}),wp.element.createElement("div",{className:"lzb-gutenberg-gallery-button"},wp.element.createElement(G,{isDefault:!0},V("Edit Gallery"))),n.map(function(e){return wp.element.createElement("div",{className:"lzb-gutenberg-gallery-item",key:e.id||e.url},wp.element.createElement("img",{src:e.url,alt:e.alt}))}))}}):""))}}])&&L(n.prototype,o),r&&L(n,r),t}()),ne=n(3);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ie(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var se=wp.i18n.__,ue=wp.element.Component,fe=wp.components,pe=fe.BaseControl,he=fe.Button,de=fe.Tooltip,me=fe.ToggleControl,ye=wp.compose.withInstanceId,be=Object(ne.SortableHandle)(function(){return wp.element.createElement(he,{className:"lzb-gutenberg-repeater-btn-drag",onClick:function(e){e.stopPropagation()},role:"button"},wp.element.createElement("span",{className:"dashicons dashicons-menu"}))}),ge=Object(ne.SortableElement)(function(e){return wp.element.createElement("div",{className:"lzb-gutenberg-repeater-item"},wp.element.createElement("button",{className:"lzb-gutenberg-repeater-btn"+(e.active?" lzb-gutenberg-repeater-btn-active":""),onClick:e.onToggle},e.title,wp.element.createElement(be,null),wp.element.createElement("span",{className:"lzb-gutenberg-repeater-btn-arrow dashicons dashicons-arrow-right-alt2"})),wp.element.createElement("button",{className:"lzb-gutenberg-repeater-btn-remove",onClick:e.onRemove},wp.element.createElement("span",{className:"dashicons dashicons-no-alt"})),e.active?e.renderContent():"")}),ve=Object(ne.SortableContainer)(function(e){var t=e.items;return wp.element.createElement("div",{className:"lzb-gutenberg-repeater-items"},t.map(function(e,t){return wp.element.createElement(ge,ce({key:"repeater-item-".concat(t),index:t},e))}))}),we=ye(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ie(this,ae(t).apply(this,arguments))).sortRef=wp.element.createRef(),e.state={activeItem:-1},e}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,ue),n=t,(o=[{key:"render",value:function(){for(var e=this,t=this.props,n=t.label,o=t.count,r=void 0===o?1:o,i=t.renderRow,a=void 0===i?function(){}:i,l=t.addRow,c=void 0===l?function(){}:l,s=t.removeRow,u=void 0===s?function(){}:s,f=t.resortRow,p=void 0===f?function(){}:f,h=[],d=function(t){var n=-2===e.state.activeItem||e.state.activeItem===t;h.push({title:"Row ".concat(t+1),active:n,onToggle:function(o){o.preventDefault(),o.stopPropagation(),e.setState({activeItem:n?-1:t})},onRemove:function(e){e.preventDefault(),e.stopPropagation(),u(t)},renderContent:function(){return wp.element.createElement("div",{className:"lzb-gutenberg-repeater-item-content"},a(t))}})},m=0;m<r;m++)d(m);return wp.element.createElement(pe,{label:n},wp.element.createElement("div",{className:"lzb-gutenberg-repeater"},h.length?wp.element.createElement(ve,{ref:this.sortRef,items:h,onSortEnd:function(t){var n=t.oldIndex,o=t.newIndex;p(n,o),e.state.activeItem>-1&&e.setState({activeItem:o})},useDragHandle:!0,helperContainer:function(){return e.sortRef&&e.sortRef.current&&e.sortRef.current.container?e.sortRef.current.container:document.body}}):"",wp.element.createElement("div",{className:"lzb-gutenberg-repeater-options"},wp.element.createElement(he,{isDefault:!0,onClick:function(){c()}},se("+ Add Row")),h.length&&h.length>1?wp.element.createElement(de,{text:se("Toggle all rows")},wp.element.createElement("div",null,wp.element.createElement(me,{checked:-2===this.state.activeItem,onChange:function(){e.setState({activeItem:-2===e.state.activeItem?-1:-2})}}))):"")))}}])&&re(n.prototype,o),r&&re(n,r),t}());function xe(e,t,n,o){var r,i=!1,a=0;function l(){r&&clearTimeout(r)}function c(){var c=this,s=Date.now()-a,u=arguments;function f(){a=Date.now(),n.apply(c,u)}i||(o&&!r&&f(),l(),void 0===o&&s>e?f():!0!==t&&(r=setTimeout(o?function(){r=void 0}:f,void 0===o?e-s:e)))}return"boolean"!=typeof t&&(o=n,n=t,t=void 0),c.cancel=function(){l(),i=!0},c}var ke=n(41),Ce=n.n(ke);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Oe(e,t,n[t])})}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ie(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re=wp.components.Spinner,Pe=wp.element,Ne=Pe.Component,De=Pe.RawHTML,Me=Pe.Fragment,Ae=wp.i18n,Be=Ae.__,ze=Ae.sprintf,Le=wp.apiFetch,We=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ie(this,_e(t).call(this,e))).state={response:null,previousResponse:null,allowRender:!0},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,Ne),n=t,(o=[{key:"componentDidMount",value:function(){var e,t,n;this.isStillMounted=!0,this.fetch(this.props),this.fetch=(e=500,t=this.fetch,void 0===n?xe(e,t,!1):xe(e,n,!1!==t))}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"componentDidUpdate",value:function(e){this.state.allowRender&&!Ce()(e,this.props)&&this.fetch(this.props)}},{key:"fetch",value:function(e){var t=this;if(this.isStillMounted){null!==this.state.response&&this.setState({response:null});var n=e.block,o=e.attributes,r=void 0===o?null:o,i=e.urlQueryArgs,a=void 0===i?{}:i,l=this.currentFetchRequest=Le({path:"lazy-blocks/v1/block-render",method:"POST",data:Ee({context:"editor",name:n},null!==r?{attributes:r}:{},a)}).then(function(e){t.isStillMounted&&l===t.currentFetchRequest&&(e&&e.success?t.setState({response:e.response,previousResponse:e.response}):e&&!e.success&&e.error_code&&("lazy_block_invalid"===e.error_code?t.setState({response:null,previousResponse:null}):"lazy_block_no_render_callback"===e.error_code&&t.setState({response:null,previousResponse:null,allowRender:!1})))}).catch(function(e){t.isStillMounted&&l===t.currentFetchRequest&&t.setState({response:{error:!0,response:e}})});return l}}},{key:"render",value:function(){var e=this.state,t=e.response,n=e.previousResponse,o="";if(this.state.allowRender)if(t)if(t.error){o=ze(Be("Error loading block preview: %s"),t.response)}else o=t.length?wp.element.createElement(De,{key:"html"},t):Be("No results found.");else o=wp.element.createElement(Me,null,n?wp.element.createElement(De,{key:"html"},n):"",wp.element.createElement(Re,null));else o="";return wp.element.createElement("div",{className:"lzb-preview-server"},o)}}])&&Te(n.prototype,o),r&&Te(n,r),t}();function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qe=window.lazyblocksGutenberg;qe&&qe.blocks&&qe.blocks.length||(qe={post_type:"post",blocks:[]});var Ge=wp.element,Xe=Ge.Component,Ye=Ge.Fragment,Ze=wp.components,Je=Ze.PanelBody,Qe=Ze.BaseControl,$e=Ze.TextControl,et=Ze.TextareaControl,tt=Ze.ToggleControl,nt=Ze.CheckboxControl,ot=Ze.RadioControl,rt=Ze.RangeControl,it=Ze.SelectControl,at=Ze.ColorIndicator,lt=Ze.Dashicon,ct=Ze.IconButton,st=Ze.DatePicker,ut=Ze.TimePicker,ft=wp.editor,pt=ft.URLInput,ht=ft.ColorPalette,dt=ft.InspectorControls,mt=ft.RichText,yt=ft.InnerBlocks,bt=ft.PlainText,gt=wp.blocks.registerBlockType,vt=wp.date.__experimentalGetSettings;qe.blocks.forEach(function(e){var t=function(t){function n(){var t,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(t=!(r=Ve(n).apply(this,arguments))||"object"!==He(r)&&"function"!=typeof r?Fe(o):r).getControlValue=function(t,n){var o=this.props.attributes[t.name];if(t.child_of&&e.controls[t.child_of]&&n>-1){var r=this.getControlValue(e.controls[t.child_of]);r&&void 0!==r[n]&&void 0!==r[n][t.name]&&(o=r[n][t.name])}if("string"==typeof o&&("repeater"===t.type||"image"===t.type||"gallery"===t.type))try{o=JSON.parse(decodeURI(o))}catch(e){o=[]}return o}.bind(Fe(t)),t.onControlChange=t.onControlChange.bind(Fe(t)),t.onSelectImages=t.onSelectImages.bind(Fe(t)),t.onSelectImage=t.onSelectImage.bind(Fe(t)),t.renderControls=t.renderControls.bind(Fe(t)),t}var o,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(n,Xe),o=n,(i=[{key:"onControlChange",value:function(t,n,o){var r=this.props.setAttributes,i=n.name;if(n.child_of&&e.controls[n.child_of]&&o>-1){var a=this.getControlValue(e.controls[n.child_of]);a&&void 0!==a[o]&&(a[o][n.name]=t,t=a),i=(n=e.controls[n.child_of]).name}"number"!==n.type&&"range"!==n.type||(t=parseFloat(t));var l={};l[i]=t,"object"!==He(t)&&!Array.isArray(t)||"repeater"!==n.type&&"image"!==n.type&&"gallery"!==n.type||(l[i]=encodeURI(JSON.stringify(l[i]))),r(l)}},{key:"onSelectImages",value:function(e,t,n){var o=e.map(function(e){return{alt:e.alt||"",title:e.title||"",caption:e.caption||"",id:e.id||"",link:e.link||"",url:e.url||""}});this.onControlChange(o,t,n)}},{key:"onSelectImage",value:function(e,t,n){var o=e?{alt:e.alt||"",title:e.title||"",caption:e.caption||"",id:e.id||"",link:e.link||"",url:e.url||""}:"";this.onControlChange(o,t,n)}},{key:"renderControls",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[];return Object.keys(e.controls).forEach(function(l){var c=e.controls[l],s=c.type&&"nowhere"!==c.placement&&("both"===c.placement||c.placement===t);if("inner_blocks"===c.type&&(s="content"===t),"content"===t&&c.hide_if_not_selected&&"true"===c.hide_if_not_selected&&(s=n.props.isSelected),!o&&!c.child_of&&s||o&&c.child_of===o)switch(c.type){case"text":case"number":case"email":case"password":i.push(wp.element.createElement($e,{key:c.name,label:c.label,type:c.type,min:c.min,max:c.max,step:c.step,help:c.help,placeholder:c.placeholder,value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)}}));break;case"range":i.push(wp.element.createElement(rt,{key:c.name,label:c.label,min:c.min,max:c.max,step:c.step,help:c.help,value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)}}));break;case"url":i.push(wp.element.createElement(Qe,{key:c.name,label:c.label,help:c.help},wp.element.createElement("form",{className:"lzb-gutenberg-url",onSubmit:function(e){return e.preventDefault()}},wp.element.createElement(pt,{value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)},autoFocus:!1}),wp.element.createElement(lt,{icon:"admin-links"}),wp.element.createElement(ct,{icon:"editor-break",label:"Apply",type:"submit"}))));break;case"textarea":i.push(wp.element.createElement(et,{key:c.name,label:c.label,value:n.getControlValue(c,r),help:c.help,placeholder:c.placeholder,onChange:function(e){n.onControlChange(e,c,r)}}));break;case"rich_text":i.push(wp.element.createElement(Qe,{key:c.name,label:c.label,help:c.help,className:"lzb-gutenberg-rich-text"},wp.element.createElement(mt,{value:n.getControlValue(c,r),format:"string",multiline:"true"===c.multiline&&"p",inlineToolbar:!0,onChange:function(e){n.onControlChange(e,c,r)}})));break;case"code_editor":i.push(wp.element.createElement(Qe,{key:c.name,label:c.label,help:c.help,className:"wp-block-html"},wp.element.createElement(bt,{value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)}})));break;case"inner_blocks":i.push(wp.element.createElement(Qe,{key:c.name,label:c.label},wp.element.createElement(yt,null)));break;case"select":i.push(wp.element.createElement(it,{key:c.name,label:c.label,options:c.choices,value:n.getControlValue(c,r),help:c.help,onChange:function(e){c.allow_null&&"true"===c.allow_null&&"null"===e&&(e=null),n.onControlChange(e,c,r)}}));break;case"radio":i.push(wp.element.createElement(ot,{key:c.name,label:c.label,help:c.help,selected:n.getControlValue(c,r),options:c.choices,onChange:function(e){n.onControlChange(e,c,r)}}));break;case"toggle":i.push(wp.element.createElement(tt,{key:c.name,label:c.label,checked:!!n.getControlValue(c,r),help:c.help,onChange:function(e){n.onControlChange(e,c,r)}}));break;case"checkbox":i.push(wp.element.createElement(nt,{key:c.name,label:c.label,checked:!!n.getControlValue(c,r),help:c.help,onChange:function(e){n.onControlChange(e,c,r)}}));break;case"image":i.push(wp.element.createElement(B,{key:c.name,label:c.label,value:n.getControlValue(c,r),help:c.help,onChange:function(e){n.onSelectImage(e,c,r)}}));break;case"gallery":i.push(wp.element.createElement(te,{key:c.name,label:c.label,value:n.getControlValue(c,r),help:c.help,onChange:function(e){n.onSelectImages(e,c,r)}}));break;case"color":i.push(wp.element.createElement(Qe,{key:c.name,label:wp.element.createElement(Ye,null,c.label,wp.element.createElement(at,{colorValue:n.getControlValue(c,r)})),help:c.help,className:"lzb-gutenberg-color"},wp.element.createElement(ht,{value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)}})));break;case"date_time":var u=vt(),f=/a(?!\\)/i.test(u.formats.time.toLowerCase().replace(/\\\\/g,"").split("").reverse().join(""));i.push(wp.element.createElement(Qe,{key:c.name,label:c.label,help:c.help},/date/.test(c.date_time_picker)?wp.element.createElement(st,{currentDate:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)},locale:u.l10n.locale}):"",/time/.test(c.date_time_picker)?wp.element.createElement(ut,{currentTime:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)},is12Hour:f}):""));break;case"repeater":var p=n.getControlValue(c,r);i.push(wp.element.createElement(we,{key:c.name,label:c.label,count:p.length,renderRow:function(e){return wp.element.createElement(Ye,null,n.renderControls(t,l,e))},removeRow:function(e){e>-1&&(p.splice(e,1),n.onControlChange(p,c,r))},addRow:function(){p.push({}),n.onControlChange(p,c,r)},resortRow:function(e,t){var o=a()(p,e,t);n.onControlChange(o,c,r)}}))}}),"inspector"===t&&i.length&&(i=wp.element.createElement(Je,null,i)),i}},{key:"render",value:function(){var t=this,n=this.props.className,o=void 0===n?"":n,i=this.props.attributes.blockUniqueClass,a=void 0===i?"":i;o=r()("lazyblock",a,o);var l={};Object.keys(e.controls).forEach(function(n){e.controls[n].child_of||(l[e.controls[n].name]=t.getControlValue(e.controls[n]))});return["lazyblock","className","align","anchor","blockId","blockUniqueClass"].forEach(function(e){l[e]=t.props.attributes[e]}),wp.element.createElement(Ye,null,wp.element.createElement(dt,null,wp.element.createElement("div",{className:"lzb-inspector-controls"},this.renderControls("inspector"))),wp.element.createElement("div",{className:o},wp.element.createElement("div",{className:"lzb-content-title"},e.icon?wp.element.createElement("span",{className:e.icon}):"",wp.element.createElement("span",null,e.title)),wp.element.createElement("div",{className:"lzb-content-controls"},this.renderControls("content")),wp.element.createElement(We,{block:e.slug,attributes:l})))}}])&&Ue(o.prototype,i),l&&Ue(o,l),n}();if(e.supports.inserter&&e.condition.length){var n=!0;e.condition.forEach(function(e){e===qe.post_type&&(n=!1)}),e.supports.inserter=!n}gt(e.slug,{title:e.title,description:e.description,icon:e.icon.replace(/^dashicons dashicons-/,""),category:e.category,keywords:e.keywords,supports:e.supports,lazyblock:!0,edit:t,save:function(){var t=null;return Object.keys(e.controls).forEach(function(n){"inner_blocks"===e.controls[n].type&&(t=wp.element.createElement(yt.Content,null))}),t}})})},12:function(e,t,n){"use strict";var o=n(13);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==o){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},13:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2:function(e,t,n){e.exports=n(12)()},3:function(e,t,n){!function(e,t,n,o){"use strict";function r(e,t){return e(t={exports:{}},t.exports),t.exports}n=n&&n.hasOwnProperty("default")?n.default:n;var i=r(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},t.apply(this,arguments)}e.exports=t}),a=function(e){if(Array.isArray(e))return e},l=function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw i}}return n},c=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(e,t){return a(e)||l(e,t)||c()},u=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){u(e,t,n[t])})}return e},p=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d=function(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e},m=r(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(o){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(o)}e.exports=n}),y=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},b=function(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?y(e):t},g=r(function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t}),v=r(function(e){function t(n,o){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,o)}e.exports=t}),w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)},x=function(e,t,n,o,r,i,a,l){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,o,r,i,a,l],u=0;(c=new Error(t.replace(/%s/g,function(){return s[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},k=function(){function e(){p(this,e),u(this,"refs",{})}return d(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find(function(t){var n=t.node;return n.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(C)}}]),e}();function C(e,t){var n=e.node.sortableInfo.index,o=t.node.sortableInfo.index;return n-o}var S=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}},E=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)},O=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")},T=function(e){return S(e)||E(e)||O()};function I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Object.keys(e).reduce(function(t,o){return-1===n.indexOf(o)&&(t[o]=e[o]),t},{})}var _={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},j=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function R(e,t){Object.keys(t).forEach(function(n){e.style[n]=t[n]})}function P(e,t){e.style["".concat(j,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function N(e,t){e.style["".concat(j,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function D(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function M(e,t,n){return Math.max(e,Math.min(n,t))}function A(e){return"px"===e.substr(-2)?parseFloat(e):0}function B(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function z(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function L(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var o={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?o:W(e.parentNode,t,o)}}function H(e){var t=e.lockOffset,n=e.width,o=e.height,r=t,i=t,a="px";if("string"==typeof t){var l=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);x(null!==l,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),r=parseFloat(t),i=parseFloat(t),a=l[1]}return x(isFinite(r)&&isFinite(i),"lockOffset value should be a finite. Given %s",t),"%"===a&&(r=r*n/100,i=i*o/100),{x:r,y:i}}function U(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find(function(e){return n.test(t[e])})}(e)?e:U(e.parentNode):null}var V={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},F={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function K(e){var n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return r=n=function(n){function r(){return p(this,r),b(this,g(r).apply(this,arguments))}return w(r,n),d(r,[{key:"componentDidMount",value:function(){var e=o.findDOMNode(this);e.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return x(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var n=a.withRef?"wrappedInstance":null;return t.createElement(e,i({ref:n},this.props))}}]),r}(t.Component),u(n,"displayName",B("sortableHandle",e)),r}function q(e){return null!=e.sortableHandle}var G=function(){function e(t,n){p(this,e),this.container=t,this.onScrollCallback=n}return d(e,[{key:"clear",value:function(){clearInterval(this.interval),this.interval=null}},{key:"update",value:function(e){var t=this,n=e.translate,o=e.minTranslate,r=e.maxTranslate,i=e.width,a=e.height,l={x:0,y:0},c={x:1,y:1},s={x:10,y:10},u=this.container,f=u.scrollTop,p=u.scrollLeft,h=u.scrollHeight,d=u.scrollWidth,m=u.clientHeight,y=u.clientWidth,b=0===f,g=h-f-m==0,v=0===p,w=d-p-y==0;n.y>=r.y-a/2&&!g?(l.y=1,c.y=s.y*Math.abs((r.y-a/2-n.y)/a)):n.x>=r.x-i/2&&!w?(l.x=1,c.x=s.x*Math.abs((r.x-i/2-n.x)/i)):n.y<=o.y+a/2&&!b?(l.y=-1,c.y=s.y*Math.abs((n.y-a/2-o.y)/a)):n.x<=o.x+i/2&&!v&&(l.x=-1,c.x=s.x*Math.abs((n.x-i/2-o.x)/i)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===l.x&&0===l.y||(this.interval=setInterval(function(){t.isAutoScrolling=!0;var e={left:c.x*l.x,top:c.y*l.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)},5))}}]),e}(),X={axis:n.oneOf(["x","y","xy"]),contentWindow:n.any,disableAutoscroll:n.bool,distance:n.number,getContainer:n.func,getHelperDimensions:n.func,helperClass:n.string,helperContainer:n.oneOfType([n.func,"undefined"==typeof HTMLElement?n.any:n.instanceOf(HTMLElement)]),hideSortableGhost:n.bool,keyboardSortingTransitionDuration:n.number,lockAxis:n.string,lockOffset:n.oneOfType([n.number,n.string,n.arrayOf(n.oneOfType([n.number,n.string]))]),lockToContainerEdges:n.bool,onSortEnd:n.func,onSortMove:n.func,onSortOver:n.func,onSortStart:n.func,pressDelay:n.number,pressThreshold:n.number,shouldCancelStart:n.func,transitionDuration:n.number,updateBeforeSortStart:n.func,useDragHandle:n.bool,useWindowAsScrollContainer:n.bool},Y={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,shouldCancelStart:function(e){return-1!==[F.Input,F.Textarea,F.Select,F.Option,F.Button].indexOf(e.target.tagName)||!!D(e.target,function(e){return"true"===e.contentEditable})},transitionDuration:300,useWindowAsScrollContainer:!1},Z=Object.keys(X);function J(e){var r,a,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return a=r=function(n){function r(e){var t;return p(this,r),t=b(this,g(r).call(this,e)),u(y(y(t)),"handleStart",function(e){var n=t.props,o=n.distance,r=n.shouldCancelStart;if(2!==e.button&&!r(e)){t.touched=!0,t.position=L(e);var i=D(e.target,function(e){return null!=e.sortableInfo});if(i&&i.sortableInfo&&t.nodeIsChild(i)&&!t.state.sorting){var a=t.props.useDragHandle,l=i.sortableInfo,c=l.index,s=l.collection,u=l.disabled;if(u)return;if(a&&!D(e.target,q))return;t.manager.active={collection:s,index:c},function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}(e)||e.target.tagName!==F.Anchor||e.preventDefault(),o||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}}}),u(y(y(t)),"nodeIsChild",function(e){return e.sortableInfo.manager===t.manager}),u(y(y(t)),"handleMove",function(e){var n=t.props,o=n.distance,r=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var i=L(e),a={x:t.position.x-i.x,y:t.position.y-i.y},l=Math.abs(a.x)+Math.abs(a.y);t.delta=a,o||r&&!(l>=r)?o&&l>=o&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}}),u(y(y(t)),"handleEnd",function(){t.touched=!1,t.cancel()}),u(y(y(t)),"cancel",function(){var e=t.props.distance,n=t.state.sorting;n||(e||clearTimeout(t.pressTimer),t.manager.active=null)}),u(y(y(t)),"handlePress",function(e){try{var n=t.manager.getActive(),o=function(){if(n){var o=function(){var n,o,r,s,y,b,g=h.sortableInfo.index,v=(n=h,{bottom:A((o=window.getComputedStyle(n)).marginBottom),left:A(o.marginLeft),right:A(o.marginRight),top:A(o.marginTop)}),w=t.scrollContainer.getBoundingClientRect(),x=a({collection:d,index:g,node:h});if(t.node=h,t.margin=v,t.width=x.width,t.height=x.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=h.getBoundingClientRect(),t.containerBoundingRect=w,t.index=g,t.newIndex=g,t.axis={x:i.indexOf("x")>=0,y:i.indexOf("y")>=0},t.offsetEdge=W(h,t.container),t.initialOffset=L(m?f({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild((s="input, textarea, select, canvas, [contenteditable]",y=(r=h).querySelectorAll(s),b=r.cloneNode(!0),T(b.querySelectorAll(s)).forEach(function(e,t){"file"!==e.type&&(e.value=y[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===F.Canvas&&y[t].width>0&&y[t].height>0&&e.getContext("2d").drawImage(y[t],0,0)}),b)),R(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-v.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-v.top,"px"),width:"".concat(t.width,"px")}),m&&t.helper.focus(),c&&(t.sortableGhost=h,R(h,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},m){var k=p?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,C=k.top,S=k.left,E=k.width,O=k.height,I=C+O,j=S+E;t.axis.x&&(t.minTranslate.x=S-t.boundingClientRect.left,t.maxTranslate.x=j-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=C-t.boundingClientRect.top,t.maxTranslate.y=I-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(p?0:w.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(p?t.contentWindow.innerWidth:w.left+w.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(p?0:w.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(p?t.contentWindow.innerHeight:w.top+w.height)-t.boundingClientRect.top-t.height/2);l&&l.split(" ").forEach(function(e){return t.helper.classList.add(e)}),t.listenerNode=e.touches?h:t.contentWindow,m?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(_.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),_.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)})),t.setState({sorting:!0,sortingIndex:g}),u&&u({node:h,index:g,collection:d,isKeySorting:m},e),m&&t.keyMove(0)},r=t.props,i=r.axis,a=r.getHelperDimensions,l=r.helperClass,c=r.hideSortableGhost,s=r.updateBeforeSortStart,u=r.onSortStart,p=r.useWindowAsScrollContainer,h=n.node,d=n.collection,m=t.manager.isKeySorting,y=function(){if("function"==typeof s){t._awaitingUpdateBeforeSortStart=!0;var n=function(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}(function(){var t=h.sortableInfo.index;return Promise.resolve(s({collection:d,index:t,node:h,isKeySorting:m},e)).then(function(){})},function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n});if(n&&n.then)return n.then(function(){})}}();return y&&y.then?y.then(o):o()}}();return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}),u(y(y(t)),"handleSortMove",function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)}),u(y(y(t)),"handleSortEnd",function(e){var n=t.props,o=n.hideSortableGhost,r=n.onSortEnd,i=t.manager,a=i.active.collection,l=i.isKeySorting,c=t.manager.refs[a];t.listenerNode&&(l?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(_.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),_.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)}))),t.helper.parentNode.removeChild(t.helper),o&&t.sortableGhost&&R(t.sortableGhost,{opacity:"",visibility:""});for(var s=0,u=c.length;s<u;s++){var f=c[s],p=f.node;f.edgeOffset=null,f.boundingClientRect=null,P(p,null),N(p,null),f.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({collection:a,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:l},e),t.touched=!1}),u(y(y(t)),"autoscroll",function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(!e){if(n){var o=f({},t.translate),r=0,i=0;return t.axis.x&&(o.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),r=t.translate.x-o.x),t.axis.y&&(o.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),i=t.translate.y-o.y),t.translate=o,P(t.helper,t.translate),t.scrollContainer.scrollLeft+=r,void(t.scrollContainer.scrollTop+=i)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}}),u(y(y(t)),"onAutoScroll",function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()}),u(y(y(t)),"handleKeyDown",function(e){var n=e.keyCode,o=t.props.shouldCancelStart;if((!t.manager.active||t.manager.isKeySorting)&&(t.manager.active||n===V.SPACE&&!o(e)&&t.isValidSortingTarget(e)))switch(e.stopPropagation(),e.preventDefault(),n){case V.SPACE:t.manager.active?t.keyDrop(e):t.keyLift(e);break;case V.DOWN:case V.RIGHT:t.keyMove(1);break;case V.UP:case V.LEFT:t.keyMove(-1);break;case V.ESC:t.newIndex=t.manager.active.index,t.keyDrop(e)}}),u(y(y(t)),"keyLift",function(e){var n=e.target,o=D(n,function(e){return null!=e.sortableInfo}),r=o.sortableInfo,i=r.index,a=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:i,collection:a},t.handlePress(e)}),u(y(y(t)),"keyMove",function(e){var n=t.manager.getOrderedRefs(),o=n[n.length-1].node.sortableInfo.index,r=t.newIndex+e,i=t.newIndex;if(!(r<0||r>o)){t.prevIndex=i,t.newIndex=r;var a=function(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}(t.newIndex,t.prevIndex,t.index),l=n.find(function(e){var t=e.node;return t.sortableInfo.index===a}),c=l.node,s=t.containerScrollDelta,u=l.boundingClientRect||z(c,s),f=l.translate||{x:0,y:0},p={top:u.top+f.y-s.top,left:u.left+f.x-s.left},h=i<r,d={x:h&&t.axis.x?c.offsetWidth-t.width:0,y:h&&t.axis.y?c.offsetHeight-t.height:0};t.handleSortMove({pageX:p.left+d.x,pageY:p.top+d.y,ignoreTransition:0===e})}}),u(y(y(t)),"keyDrop",function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()}),u(y(y(t)),"handleKeyEnd",function(e){t.manager.active&&t.keyDrop(e)}),u(y(y(t)),"isValidSortingTarget",function(e){var n=t.props.useDragHandle,o=e.target,r=D(o,function(e){return null!=e.sortableInfo});return r&&r.sortableInfo&&!r.sortableInfo.disabled&&(n?q(o):o.sortableInfo)}),function(e){x(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}(e),t.state={},t.manager=new k,t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return w(r,n),d(r,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then(function(n){e.container=n,e.document=e.container.ownerDocument||document;var o=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof o?o():o,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:U(e.container)||e.container,e.autoScroller=new G(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach(function(t){return _[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})}),e.container.addEventListener("keydown",e.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(t){return _[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,o=t.lockOffset,r=t.lockToContainerEdges,i=t.transitionDuration,a=t.keyboardSortingTransitionDuration,l=void 0===a?i:a,c=this.manager.isKeySorting,u=e.ignoreTransition,f=L(e),p={x:f.x-this.initialOffset.x,y:f.y-this.initialOffset.y};if(p.y-=window.pageYOffset-this.initialWindowScroll.top,p.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=p,r){var h=function(e){var t=e.height,n=e.width,o=e.lockOffset,r=Array.isArray(o)?o:[o,o];x(2===r.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",o);var i=s(r,2),a=i[0],l=i[1];return[H({height:t,lockOffset:a,width:n}),H({height:t,lockOffset:l,width:n})]}({height:this.height,lockOffset:o,width:this.width}),d=s(h,2),m=d[0],y=d[1],b={x:this.width/2-m.x,y:this.height/2-m.y},g={x:this.width/2-y.x,y:this.height/2-y.y};p.x=M(this.minTranslate.x+b.x,this.maxTranslate.x-g.x,p.x),p.y=M(this.minTranslate.y+b.y,this.maxTranslate.y-g.y,p.y)}"x"===n?p.y=0:"y"===n&&(p.x=0),c&&l&&!u&&N(this.helper,l),P(this.helper,p)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,o=e.onSortOver,r=this.containerScrollDelta,i=this.windowScrollDelta,a=this.manager.getOrderedRefs(),l={left:this.offsetEdge.left+this.translate.x+r.left,top:this.offsetEdge.top+this.translate.y+r.top},c=this.manager.isKeySorting,s=this.newIndex;this.newIndex=null;for(var u=0,f=a.length;u<f;u++){var p=a[u].node,h=p.sortableInfo.index,d=p.offsetWidth,m=p.offsetHeight,y={height:this.height>m?m/2:this.height/2,width:this.width>d?d/2:this.width/2},b=c&&h>this.index&&h<=s,g=c&&h<this.index&&h>=s,v={x:0,y:0},w=a[u].edgeOffset;w||(w=W(p,this.container),a[u].edgeOffset=w,c&&(a[u].boundingClientRect=z(p,r)));var x=u<a.length-1&&a[u+1],k=u>0&&a[u-1];x&&!x.edgeOffset&&(x.edgeOffset=W(x.node,this.container),c&&(x.boundingClientRect=z(x.node,r))),h!==this.index?(t&&N(p,t),this.axis.x?this.axis.y?g||h<this.index&&(l.left+i.left-y.width<=w.left&&l.top+i.top<=w.top+y.height||l.top+i.top+y.height<=w.top)?(v.x=this.width+this.marginOffset.x,w.left+v.x>this.containerBoundingRect.width-y.width&&x&&(v.x=x.edgeOffset.left-w.left,v.y=x.edgeOffset.top-w.top),null===this.newIndex&&(this.newIndex=h)):(b||h>this.index&&(l.left+i.left+y.width>=w.left&&l.top+i.top+y.height>=w.top||l.top+i.top+y.height>=w.top+m))&&(v.x=-(this.width+this.marginOffset.x),w.left+v.x<this.containerBoundingRect.left+y.width&&k&&(v.x=k.edgeOffset.left-w.left,v.y=k.edgeOffset.top-w.top),this.newIndex=h):b||h>this.index&&l.left+i.left+y.width>=w.left?(v.x=-(this.width+this.marginOffset.x),this.newIndex=h):(g||h<this.index&&l.left+i.left<=w.left+y.width)&&(v.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=h)):this.axis.y&&(b||h>this.index&&l.top+i.top+y.height>=w.top?(v.y=-(this.height+this.marginOffset.y),this.newIndex=h):(g||h<this.index&&l.top+i.top<=w.top+y.height)&&(v.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=h))),P(p,v),a[u].translate=v):n&&(this.sortableGhost=p,R(p,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),c&&(this.newIndex=s);var C=c?this.prevIndex:s;o&&this.newIndex!==C&&o({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:C,isKeySorting:c})}},{key:"getWrappedInstance",value:function(){return x(l.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?o.findDOMNode(this):e(l.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var n=l.withRef?"wrappedInstance":null;return t.createElement(e,i({ref:n},I(this.props,Z)))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var e=this.props.useWindowAsScrollContainer;return e?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),r}(t.Component),u(r,"displayName",B("sortableList",e)),u(r,"defaultProps",Y),u(r,"propTypes",X),u(r,"childContextTypes",{manager:n.object.isRequired}),a}var Q={index:n.number.isRequired,collection:n.oneOfType([n.number,n.string]),disabled:n.bool},$=Object.keys(Q);function ee(e){var r,a,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return a=r=function(n){function r(){return p(this,r),b(this,g(r).apply(this,arguments))}return w(r,n),d(r,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,i=o.findDOMNode(this);i.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return x(l.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var n=l.withRef?"wrappedInstance":null;return t.createElement(e,i({ref:n},I(this.props,$)))}}]),r}(t.Component),u(r,"displayName",B("sortableElement",e)),u(r,"contextTypes",{manager:n.object.isRequired}),u(r,"propTypes",Q),u(r,"defaultProps",{collection:0}),a}e.SortableContainer=J,e.sortableContainer=J,e.SortableElement=ee,e.sortableElement=ee,e.SortableHandle=K,e.sortableHandle=K,e.arrayMove=function(e,t,n){return"undefined"!=typeof console&&console.warn("Deprecation warning: arrayMove will no longer be exported by 'react-sortable-hoc' in the next major release. Please install the `array-move` package locally instead. https://www.npmjs.com/package/array-move"),(e=e.slice()).splice(n<0?e.length+n:n,0,e.splice(t,1)[0]),e},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0),n(2),n(4))},39:function(e,t,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n=function(){function e(){}function t(e,t){for(var n=t.length,o=0;o<n;++o)r(e,t[o])}e.prototype=Object.create(null);var n={}.hasOwnProperty;var o=/\s+/;function r(e,r){if(r){var i=typeof r;"string"===i?function(e,t){for(var n=t.split(o),r=n.length,i=0;i<r;++i)e[n[i]]=!0}(e,r):Array.isArray(r)?t(e,r):"object"===i?function(e,t){for(var o in t)n.call(t,o)&&(e[o]=!!t[o])}(e,r):"number"===i&&function(e,t){e[t]=!0}(e,r)}}return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var i=new e;t(i,o);var a=[];for(var l in i)i[l]&&a.push(l);return a.join(" ")}}();e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},4:function(e,t){e.exports=ReactDOM},40:function(e,t,n){e.exports=n(48)},41:function(e,t,n){var o=Array.prototype.slice,r=n(49),i=n(50),a=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var s,u;if(l(e)||l(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=o.call(e),t=o.call(t),a(e,t,n));if(c(e)){if(!c(t))return!1;if(e.length!==t.length)return!1;for(s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}try{var f=r(e),p=r(t)}catch(e){return!1}if(f.length!=p.length)return!1;for(f.sort(),p.sort(),s=f.length-1;s>=0;s--)if(f[s]!=p[s])return!1;for(s=f.length-1;s>=0;s--)if(u=f[s],!a(e[u],t[u],n))return!1;return typeof e==typeof t}(e,t,n))};function l(e){return null==e}function c(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},46:function(e,t,n){e.exports=n(112)},47:function(e,t){var n=wp.editor.InnerBlocks,o=wp.i18n.__;(0,wp.blocks.registerBlockType)("lazyblock-core/free",{title:o("Free Content"),description:o("Block used for adding blocks inside it in cases when template locked from adding blocks."),category:"lazyblocks",supports:{html:!0,inserter:!1},edit:function(){return wp.element.createElement("div",{className:"lazyblocks-free"},wp.element.createElement(n,{templateLock:null}))},save:function(){return wp.element.createElement(n.Content,null)}})},48:function(e,t){function n(e){var t=0;if(0==e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}function o(e,t){t=t||62;var n,o=[],r="",i=e<0?"-":"";function a(e){return"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[e]}for(e=Math.abs(e);e>=t;)n=e%t,e=Math.floor(e/t),o.push(a(n));e>0&&o.push(a(e));for(var l=o.length-1;l>=0;l--)r+=o[l];return i+r}t.bitwise=n,t.binaryTransfer=o,t.unique=function(e){return o(n(e),61).replace("-","Z")},t.random=function(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",o=e||8,r=0;r<o;r++){var i=Math.floor(Math.random()*t.length);n+=t.substring(i,i+1)}return n}},49:function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},50:function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function o(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?o:r).supported=o,t.unsupported=r},7:function(e,t,n){"use strict";const o=(e,t,n)=>{e.splice(n<0?e.length+n:n,0,e.splice(t,1)[0])},r=(e,t,n)=>(e=e.slice(),o(e,t,n),e);e.exports=r,e.exports.default=r,e.exports.mutate=o}});